<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Real-time –ê–Ω–∞–ª–∏–∑ –ü–æ–≥–æ–¥—ã | WebSocket</title>
    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Tailwind CSS CDN –¥–ª—è —Å—Ç–∏–ª—å–Ω–æ–≥–æ –¥–∏–∑–∞–π–Ω–∞ -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å—Ç–∏–ª–µ–π -->
    <link rel="stylesheet" href="css/style.css">
    <style>
        html { font-family: 'Inter', sans-serif; }
        
        /* –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è –∫–∞—Ä—Ç–æ—á–µ–∫ */
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .card-appear {
            animation: slideIn 0.3s ease-out;
        }
        
        /* –ü—É–ª—å—Å–∞—Ü–∏—è –¥–ª—è —Å—Ç–∞—Ç—É—Å–∞ "–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è" */
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        .processing {
            animation: pulse 1.5s ease-in-out infinite;
        }
    </style>
</head>
<body class="min-h-screen bg-gray-900 text-white p-4 sm:p-8">

    <div id="app-container" class="max-w-4xl mx-auto">
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è -->
        <header class="mb-8">
            <div class="flex justify-between items-center">
                <div>
                    <h1 class="text-4xl font-extrabold text-blue-400 border-b-2 border-blue-600 pb-2">
                        Real-time –ê–Ω–∞–ª–∏–∑ –ü–æ–≥–æ–¥—ã
                    </h1>
                    <p class="text-gray-400 mt-2">
                        WebSocket ‚Ä¢ –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
                    </p>
                </div>
                <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å—Ç–∞—Ç—É—Å–∞ WebSocket -->
                <div id="connection-status" class="flex items-center gap-2 px-4 py-2 bg-gray-800 rounded-lg">
                    <div id="status-indicator" class="w-3 h-3 rounded-full bg-gray-500"></div>
                    <span id="status-text" class="text-sm text-gray-400">–û—Ç–∫–ª—é—á–µ–Ω–æ</span>
                </div>
            </div>
        </header>

        <!-- –°–µ–∫—Ü–∏—è –í–≤–æ–¥–∞ –∏ –ó–∞–ø—É—Å–∫–∞ -->
        <div class="bg-gray-800 p-6 rounded-2xl shadow-xl mb-8">
            <label for="cities-input" class="block text-sm font-medium text-gray-300 mb-2">
                –ì–æ—Ä–æ–¥–∞ (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)
            </label>
            <div class="flex flex-col sm:flex-row gap-4">
                <input
                    id="cities-input"
                    type="text"
                    value="London, Paris, Moscow, New York, Tokyo, Berlin"
                    class="flex-grow p-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 text-white placeholder-gray-400"
                    placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: Paris, London, Tokyo..."
                />
                <button
                    id="start-button"
                    class="flex items-center justify-center px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg shadow-lg transition duration-150 transform hover:scale-[1.01]"
                >
                    <svg id="button-icon" class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
                    <span id="button-text">–ù–∞—á–∞—Ç—å –∞–Ω–∞–ª–∏–∑</span>
                </button>
            </div>
            
            <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ -->
            <div class="mt-4 p-3 bg-blue-900/20 border border-blue-800 rounded-lg">
                <p class="text-xs text-blue-300">
                    <strong>üöÄ WebSocket Real-time:</strong> –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ—è–≤–ª—è—é—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –ø–æ –º–µ—Ä–µ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏, –±–µ–∑ –æ–∂–∏–¥–∞–Ω–∏—è –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö.
                </p>
            </div>
        </div>

        <!-- –°–µ–∫—Ü–∏—è –°—Ç–∞—Ç—É—Å–∞ –∏ –ü—Ä–æ–≥—Ä–µ—Å—Å–∞ (–ò–∑–Ω–∞—á–∞–ª—å–Ω–æ —Å–∫—Ä—ã—Ç–∞) -->
        <div id="status-section" class="bg-gray-800 p-6 rounded-2xl shadow-xl hidden">
            <div class="flex justify-between items-center mb-4 border-b border-gray-700 pb-3">
                <h2 class="text-xl font-bold text-gray-200">
                    –°—Ç–∞—Ç—É—Å –ó–∞–¥–∞—á–∏ <span id="correlation-id" class="text-blue-400">ID: ...</span>
                </h2>
                <div id="status-badge" class="px-3 py-1 text-sm font-medium rounded-full bg-yellow-800 text-yellow-300">
                    –í –ø—Ä–æ—Ü–µ—Å—Å–µ
                </div>
            </div>

            <!-- –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä -->
            <div class="mb-6">
                <div class="flex justify-between text-sm font-medium mb-1 text-gray-300">
                    <span id="progress-text">–ü—Ä–æ–≥—Ä–µ—Å—Å: 0 –∏–∑ 0</span>
                    <span id="progress-percentage">0%</span>
                </div>
                <div class="w-full bg-gray-700 rounded-full h-3">
                    <div
                        id="progress-bar-fill"
                        class="bg-blue-500 h-3 rounded-full transition-all duration-700 ease-out"
                        style="width: 0%"
                    ></div>
                </div>
            </div>

            <!-- –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ —á–∞—Å—Ç–∏—á–Ω–æ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ (—Å–∫—Ä—ã—Ç–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
            <div id="partial-warning" class="mb-6 p-4 bg-yellow-900/30 border border-yellow-700 rounded-lg hidden">
                <div class="flex items-center">
                    <svg class="w-5 h-5 text-yellow-400 mr-3 shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.332 16c-.77 1.333.192 3 1.732 3z"></path></svg>
                    <div>
                        <strong class="text-yellow-300">‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç</strong>
                        <p id="partial-reason" class="text-yellow-200 text-sm mt-1"></p>
                    </div>
                </div>
            </div>

            <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã (Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è) -->
            <div id="results-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –∑–¥–µ—Å—å —á–µ—Ä–µ–∑ JS –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ -->
            </div>
        </div>
        
        <!-- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –ø—É—Å—Ç–æ–≥–æ —ç–∫—Ä–∞–Ω–∞ -->
        <div id="initial-message" class="text-center p-12 bg-gray-800 rounded-2xl shadow-xl">
            <svg class="w-16 h-16 mx-auto text-blue-400 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
            <p class="text-gray-400 text-lg">–ù–∞–∂–º–∏—Ç–µ "–ù–∞—á–∞—Ç—å –∞–Ω–∞–ª–∏–∑" –¥–ª—è –∑–∞–ø—É—Å–∫–∞ real-time –æ–±—Ä–∞–±–æ—Ç–∫–∏ —á–µ—Ä–µ–∑ WebSocket</p>
            <p class="text-gray-500 text-sm mt-2">–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –±—É–¥—É—Ç –ø–æ—è–≤–ª—è—Ç—å—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –ø–æ –º–µ—Ä–µ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏</p>
        </div>

    </div>

    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ JS-—Ñ–∞–π–ª–∞ -->
    <script src="js/app.js"></script>
</body>
</html>